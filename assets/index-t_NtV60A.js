var ne=Object.defineProperty;var se=(e,t,s)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var q=(e,t,s)=>(se(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();function Z(){}function Jt(e){return e()}function jt(){return Object.create(null)}function ot(e){e.forEach(Jt)}function Qt(e){return typeof e=="function"}function it(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function oe(e){return Object.keys(e).length===0}function et(e,t){e.appendChild(t)}function m(e,t,s){e.insertBefore(t,s||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function Ot(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function A(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function D(){return Y(" ")}function pt(){return Y("")}function j(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function V(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function X(e){return e===""?null:+e}function ie(e){return Array.from(e.childNodes)}function vt(e,t){t=""+t,e.data!==t&&(e.data=t)}function T(e,t){e.value=t??""}function P(e,t,s,n){s==null?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}function bt(e,t){return new e(t)}let zt;function Mt(e){zt=e}const ht=[],gt=[];let _t=[];const It=[],le=Promise.resolve();let Dt=!1;function ue(){Dt||(Dt=!0,le.then(Zt))}function Et(e){_t.push(e)}function Wt(e){It.push(e)}const Pt=new Set;let dt=0;function Zt(){if(dt!==0)return;const e=zt;do{try{for(;dt<ht.length;){const t=ht[dt];dt++,Mt(t),re(t.$$)}}catch(t){throw ht.length=0,dt=0,t}for(Mt(null),ht.length=0,dt=0;gt.length;)gt.pop()();for(let t=0;t<_t.length;t+=1){const s=_t[t];Pt.has(s)||(Pt.add(s),s())}_t.length=0}while(ht.length);for(;It.length;)It.pop()();Dt=!1,Pt.clear(),Mt(e)}function re(e){if(e.fragment!==null){e.update(),ot(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Et)}}function fe(e){const t=[],s=[];_t.forEach(n=>e.indexOf(n)===-1?t.push(n):s.push(n)),s.forEach(n=>n()),_t=t}const Ct=new Set;let ct;function lt(){ct={r:0,c:[],p:ct}}function ut(){ct.r||ot(ct.c),ct=ct.p}function I(e,t){e&&e.i&&(Ct.delete(e),e.i(t))}function O(e,t,s,n){if(e&&e.o){if(Ct.has(e))return;Ct.add(e),ct.c.push(()=>{Ct.delete(e),n&&(s&&e.d(1),n())}),e.o(t)}else n&&n()}function wt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function At(e,t,s){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=s,s(e.$$.ctx[n]))}function W(e){e&&e.c()}function H(e,t,s){const{fragment:n,after_update:o}=e.$$;n&&n.m(t,s),Et(()=>{const i=e.$$.on_mount.map(Jt).filter(Qt);e.$$.on_destroy?e.$$.on_destroy.push(...i):ot(i),e.$$.on_mount=[]}),o.forEach(Et)}function J(e,t){const s=e.$$;s.fragment!==null&&(fe(s.after_update),ot(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function ae(e,t){e.$$.dirty[0]===-1&&(ht.push(e),ue(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ft(e,t,s,n,o,i,l=null,r=[-1]){const f=zt;Mt(e);const d=e.$$={fragment:null,ctx:[],props:i,update:Z,not_equal:o,bound:jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:jt(),dirty:r,skip_bound:!1,root:t.target||f.$$.root};l&&l(d.root);let u=!1;if(d.ctx=s?s(e,t.props||{},(a,p,...w)=>{const M=w.length?w[0]:p;return d.ctx&&o(d.ctx[a],d.ctx[a]=M)&&(!d.skip_bound&&d.bound[a]&&d.bound[a](M),u&&ae(e,a)),p}):[],d.update(),u=!0,ot(d.before_update),d.fragment=n?n(d.ctx):!1,t.target){if(t.hydrate){const a=ie(t.target);d.fragment&&d.fragment.l(a),a.forEach(c)}else d.fragment&&d.fragment.c();t.intro&&I(e.$$.fragment),H(e,t.target,t.anchor),Zt()}Mt(f)}class at{constructor(){q(this,"$$");q(this,"$$set")}$destroy(){J(this,1),this.$destroy=Z}$on(t,s){if(!Qt(s))return Z;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const o=n.indexOf(s);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!oe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ce="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ce);function pe(e){let t;return{c(){t=A("div"),V(t,"class","point svelte-1dc5ydu"),P(t,"left",e[0].x+"px"),P(t,"top",e[0].y+"px")},m(s,n){m(s,t,n)},p(s,[n]){n&1&&P(t,"left",s[0].x+"px"),n&1&&P(t,"top",s[0].y+"px")},i:Z,o:Z,d(s){s&&c(t)}}}function me(e,t,s){let{p:n}=t;return e.$$set=o=>{"p"in o&&s(0,n=o.p)},[n]}class qt extends at{constructor(t){super(),ft(this,t,me,pe,it,{p:0})}}function de(e){let t,s,n,o,i,l;function r(u){e[3](u)}var f=Nt;function d(u,a){let p={editable:{x:!1,y:u[2]},offset:u[1]};return u[0].bottomMass!==void 0&&(p.mass=u[0].bottomMass),{props:p}}return f&&(n=bt(f,d(e)),gt.push(()=>At(n,"mass",r))),{c(){t=A("div"),s=D(),n&&W(n.$$.fragment),i=pt(),V(t,"class","spring svelte-xta3oy"),P(t,"left",e[0].start.x+e[1].x+"px"),P(t,"top",e[0].start.y+e[1].y+"px"),P(t,"width",e[0].magnitude()+"px"),P(t,"transform","rotate("+e[0].angle()+"rad)"),P(t,"background","repeating-linear-gradient( 45deg, transparent, transparent "+(5+e[0].constant)+"%, #222222 "+(5+e[0].constant)+"%, #222222 "+(5+e[0].constant)*2+"% )")},m(u,a){m(u,t,a),m(u,s,a),n&&H(n,u,a),m(u,i,a),l=!0},p(u,[a]){if((!l||a&3)&&P(t,"left",u[0].start.x+u[1].x+"px"),(!l||a&3)&&P(t,"top",u[0].start.y+u[1].y+"px"),(!l||a&1)&&P(t,"width",u[0].magnitude()+"px"),(!l||a&1)&&P(t,"transform","rotate("+u[0].angle()+"rad)"),(!l||a&1)&&P(t,"background","repeating-linear-gradient( 45deg, transparent, transparent "+(5+u[0].constant)+"%, #222222 "+(5+u[0].constant)+"%, #222222 "+(5+u[0].constant)*2+"% )"),f!==(f=Nt)){if(n){lt();const p=n;O(p.$$.fragment,1,0,()=>{J(p,1)}),ut()}f?(n=bt(f,d(u)),gt.push(()=>At(n,"mass",r)),W(n.$$.fragment),I(n.$$.fragment,1),H(n,i.parentNode,i)):n=null}else if(f){const p={};a&4&&(p.editable={x:!1,y:u[2]}),a&2&&(p.offset=u[1]),!o&&a&1&&(o=!0,p.mass=u[0].bottomMass,Wt(()=>o=!1)),n.$set(p)}},i(u){l||(n&&I(n.$$.fragment,u),l=!0)},o(u){n&&O(n.$$.fragment,u),l=!1},d(u){u&&(c(t),c(s),c(i)),n&&J(n,u)}}}function he(e,t,s){let{connector:n}=t,{offset:o=new L(0,0)}=t,{editable:i=!0}=t;function l(r){e.$$.not_equal(n.bottomMass,r)&&(n.bottomMass=r,s(0,n))}return e.$$set=r=>{"connector"in r&&s(0,n=r.connector),"offset"in r&&s(1,o=r.offset),"editable"in r&&s(2,i=r.editable)},[n,o,i,l]}class xt extends at{constructor(t){super(),ft(this,t,he,de,it,{connector:0,offset:1,editable:2})}}const yt=9.80665;class te{constructor(t,s,n){q(this,"start");q(this,"end");q(this,"bottomMass");q(this,"theta");q(this,"component");q(this,"topMass");q(this,"constant");this.start=new L(t,s),this.end=new L(t,s-n.size()/2),this.bottomMass=n,n.topConnector=this,this.theta=this.angle(),this.constant=0}magnitude(){return this.direction().magnitude()}massMagnitude(){return this.start.subtract(this.bottomMass.point).magnitude()}angle(){return this.bottomMass.point.subtract(this.start).angle()}pendAngle(){return this.angle()-Math.PI/2}direction(){return this.end.subtract(this.start)}unitDirection(){return this.direction().unit()}force(){return new L(0,0)}simulationStep(){}}class st extends te{constructor(s,n,o,i){super(s,n,i);q(this,"component",xt);this.constant=o}equilibrium(){return this.bottomMass.bottomConnector?new L(0,(this.bottomMass.bottomConnector.bottomMass.mass+this.bottomMass.mass)*yt/this.constant):new L(0,this.bottomMass.mass*yt/this.constant)}force(){return this.direction().multiply(-this.constant)}simulationStep(){this.bottomMass&&this.bottomMass.simulationStep(this.force())}}q(st,"h",.1);class St extends te{constructor(s,n,o){super(s,n,o);q(this,"component",Lt);q(this,"dtheta");this.dtheta=0,this.constant=this.massMagnitude()}force(){let s=Math.sin(this.pendAngle()),n=Math.cos(this.pendAngle()),o=n*this.bottomMass.mass*yt+this.bottomMass.mass*Math.pow(this.bottomMass.point.velocity().magnitude(),2)/this.constant;if(this.bottomMass.bottomConnector){let i=this.bottomMass.bottomConnector;o+=Math.cos(i.pendAngle()-this.pendAngle())*i.force().magnitude()}return new L(s*o,-n*o)}simulationStep(){this.bottomMass&&(this.bottomMass.simulationStep(this.force()),this.theta=this.angle())}setAngle(s){this.bottomMass.setPoint(new L(Math.cos(s),Math.sin(s)).multiply(this.constant).add(this.start))}}q(St,"h",.1);class kt{constructor(t,s,n,o){q(this,"point");q(this,"mass");q(this,"damping");q(this,"topConnector");q(this,"bottomConnector");q(this,"name");this.point=new L(t,s),this.mass=n,this.damping=o,this.name=""}simulationStep(t){var n;let s=t.add(new L(0,this.mass*yt));this.bottomConnector&&(s=s.subtract(this.bottomConnector.force())),this.damping!=0?s=s.divide(this.mass).subtract(this.point.velocity().multiply(this.damping)):s=s.divide(this.mass),this.point.dx+=st.h*s.x,this.point.dy+=st.h*s.y,this.point.y+=st.h*this.point.dy,this.point.x+=st.h*this.point.dx,this.setY(this.point.y),this.setX(this.point.x),(n=this.bottomConnector)==null||n.simulationStep()}size(){return Math.sqrt(this.mass)*20}setPoint(t){this.point=t.copy(),this.setX(t.x),this.setY(t.y),this.topConnector&&(this.topConnector.theta=this.topConnector.angle())}setX(t){this.point.x=t,this.topConnector&&(this.topConnector.end.x=t),this.bottomConnector&&(this.bottomConnector.start.x=t)}setY(t){this.point.y=t,this.topConnector&&(this.topConnector.end.y=t-this.size()/2),this.bottomConnector&&(this.bottomConnector.start.y=t+this.size()/2)}updateConnector(){this.topConnector&&(this.topConnector.end=this.point.add(new L(0,-this.size()/2))),this.bottomConnector&&(this.bottomConnector.start=this.point.add(new L(0,this.size()/2)))}}class L{constructor(t,s){q(this,"x");q(this,"y");q(this,"dx");q(this,"dy");this.x=t,this.y=s,this.dx=0,this.dy=0}add(t){return new L(this.x+t.x,this.y+t.y)}multiply(t){return new L(this.x*t,this.y*t)}subtract(t){return new L(this.x-t.x,this.y-t.y)}divide(t){if(t==0)throw new Error("Dividing point by zero!!! Ya can't do that!");return new L(this.x/t,this.y/t)}velocity(){return new L(this.dx,this.dy)}magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}copy(){return new L(this.x,this.y)}angle(){return Math.atan2(this.y,this.x)}unit(){return this.divide(this.magnitude())}}function Tt(e){let t,s,n;var o=e[0].bottomConnector.component;function i(l,r){return{props:{connector:l[0].bottomConnector,offset:l[1],editable:l[2].y}}}return o&&(t=bt(o,i(e))),{c(){t&&W(t.$$.fragment),s=pt()},m(l,r){t&&H(t,l,r),m(l,s,r),n=!0},p(l,r){if(r&1&&o!==(o=l[0].bottomConnector.component)){if(t){lt();const f=t;O(f.$$.fragment,1,0,()=>{J(f,1)}),ut()}o?(t=bt(o,i(l)),W(t.$$.fragment),I(t.$$.fragment,1),H(t,s.parentNode,s)):t=null}else if(o){const f={};r&1&&(f.connector=l[0].bottomConnector),r&2&&(f.offset=l[1]),r&4&&(f.editable=l[2].y),t.$set(f)}},i(l){n||(t&&I(t.$$.fragment,l),n=!0)},o(l){t&&O(t.$$.fragment,l),n=!1},d(l){l&&c(s),t&&J(t,l)}}}function _e(e){let t,s=e[0].name+"",n,o,i,l,r,f,d,u;i=new qt({props:{p:e[0].point.add(e[1])}});let a=e[0].bottomConnector&&Tt(e);return{c(){t=A("div"),n=Y(s),o=D(),W(i.$$.fragment),l=D(),a&&a.c(),r=pt(),V(t,"class","weight svelte-18jwvb6"),P(t,"left",e[0].point.x+e[1].x+"px"),P(t,"top",e[0].point.y+e[1].y+"px"),P(t,"width",e[0].size()+"px"),P(t,"height",e[0].size()+"px"),P(t,"transform","translate(-50%, -50%)")},m(p,w){m(p,t,w),et(t,n),m(p,o,w),H(i,p,w),m(p,l,w),a&&a.m(p,w),m(p,r,w),f=!0,d||(u=[j(window,"mouseup",e[5]),j(window,"mousemove",e[4]),j(t,"mousedown",e[3])],d=!0)},p(p,[w]){(!f||w&1)&&s!==(s=p[0].name+"")&&vt(n,s),(!f||w&3)&&P(t,"left",p[0].point.x+p[1].x+"px"),(!f||w&3)&&P(t,"top",p[0].point.y+p[1].y+"px"),(!f||w&1)&&P(t,"width",p[0].size()+"px"),(!f||w&1)&&P(t,"height",p[0].size()+"px");const M={};w&3&&(M.p=p[0].point.add(p[1])),i.$set(M),p[0].bottomConnector?a?(a.p(p,w),w&1&&I(a,1)):(a=Tt(p),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(lt(),O(a,1,1,()=>{a=null}),ut())},i(p){f||(I(i.$$.fragment,p),I(a),f=!0)},o(p){O(i.$$.fragment,p),O(a),f=!1},d(p){p&&(c(t),c(o),c(l),c(r)),J(i,p),a&&a.d(p),d=!1,ot(u)}}}function be(e,t,s){let{mass:n}=t,{offset:o}=t,{editable:i}=t,l;function r(u){l={dragging:!0,point:new L(u.x,u.y).subtract(n.point)}}function f(u){if(!l||!l.dragging)return;let a=new L(u.x,u.y).subtract(l.point);i.x&&i.y?n.setPoint(a):(i.x&&n.setX(a.x),i.y&&n.setY(a.y)),s(0,n)}function d(){l&&(s(0,n.point.dx=0,n),s(0,n.point.dy=0,n),l.dragging=!1)}return e.$$set=u=>{"mass"in u&&s(0,n=u.mass),"offset"in u&&s(1,o=u.offset),"editable"in u&&s(2,i=u.editable)},[n,o,i,r,f,d]}class Nt extends at{constructor(t){super(),ft(this,t,be,_e,it,{mass:0,offset:1,editable:2})}}function ge(e){let t,s,n,o,i,l;function r(u){e[3](u)}var f=Nt;function d(u,a){let p={editable:{x:u[2],y:u[2]},offset:u[1]};return u[0].bottomMass!==void 0&&(p.mass=u[0].bottomMass),{props:p}}return f&&(n=bt(f,d(e)),gt.push(()=>At(n,"mass",r))),{c(){t=A("div"),s=D(),n&&W(n.$$.fragment),i=pt(),V(t,"class","pendulum svelte-1oqqom2"),P(t,"left",e[0].start.x+e[1].x+"px"),P(t,"top",e[0].start.y+e[1].y+"px"),P(t,"width",e[0].magnitude()+"px"),P(t,"transform","rotate("+e[0].angle()+"rad)")},m(u,a){m(u,t,a),m(u,s,a),n&&H(n,u,a),m(u,i,a),l=!0},p(u,[a]){if((!l||a&3)&&P(t,"left",u[0].start.x+u[1].x+"px"),(!l||a&3)&&P(t,"top",u[0].start.y+u[1].y+"px"),(!l||a&1)&&P(t,"width",u[0].magnitude()+"px"),(!l||a&1)&&P(t,"transform","rotate("+u[0].angle()+"rad)"),f!==(f=Nt)){if(n){lt();const p=n;O(p.$$.fragment,1,0,()=>{J(p,1)}),ut()}f?(n=bt(f,d(u)),gt.push(()=>At(n,"mass",r)),W(n.$$.fragment),I(n.$$.fragment,1),H(n,i.parentNode,i)):n=null}else if(f){const p={};a&4&&(p.editable={x:u[2],y:u[2]}),a&2&&(p.offset=u[1]),!o&&a&1&&(o=!0,p.mass=u[0].bottomMass,Wt(()=>o=!1)),n.$set(p)}},i(u){l||(n&&I(n.$$.fragment,u),l=!0)},o(u){n&&O(n.$$.fragment,u),l=!1},d(u){u&&(c(t),c(s),c(i)),n&&J(n,u)}}}function we(e,t,s){let{connector:n}=t,{offset:o=new L(0,0)}=t,{editable:i=!0}=t;function l(r){e.$$.not_equal(n.bottomMass,r)&&(n.bottomMass=r,s(0,n))}return e.$$set=r=>{"connector"in r&&s(0,n=r.connector),"offset"in r&&s(1,o=r.offset),"editable"in r&&s(2,i=r.editable)},[n,o,i,l]}class ye extends at{constructor(t){super(),ft(this,t,we,ge,it,{connector:0,offset:1,editable:2})}}const Lt=ye;function Xt(e,t,s){const n=e.slice();return n[18]=t[s],n}function Ft(e){let t,s;return t=new qt({props:{p:e[18]}}),{c(){W(t.$$.fragment)},m(n,o){H(t,n,o),s=!0},p(n,o){const i={};o&128&&(i.p=n[18]),t.$set(i)},i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){O(t.$$.fragment,n),s=!1},d(n){J(t,n)}}}function Me(e){let t,s,n;return{c(){t=A("button"),t.textContent="Pause"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[10]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function ke(e){let t,s,n;return{c(){t=A("button"),t.textContent="Start"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[9]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function $e(e){let t,s,n,o,i,l,r,f,d,u,a,p,w,M,b,S,g,$=e[1].pendAngle()+"",B,k,C,N,F=e[3].pendAngle()+"",R,G,U,_,v,K,E,x,mt;t=new Lt({props:{connector:e[1],editable:!e[6],offset:e[8]}});let tt=wt(e[7]),z=[];for(let h=0;h<tt.length;h+=1)z[h]=Ft(Xt(e,tt,h));const ee=h=>O(z[h],1,1,()=>{z[h]=null});function Bt(h,y){return h[6]?Me:ke}let $t=Bt(e),nt=$t(e);return{c(){W(t.$$.fragment),s=D();for(let h=0;h<z.length;h+=1)z[h].c();n=Y(`\r
Top Mass: `),o=A("input"),i=A("br"),l=Y(`\r
Bottom Mass: `),r=A("input"),f=A("br"),d=Y(`\r
Damping: `),u=A("input"),a=D(),p=A("br"),w=Y(`\r
Damping: `),M=A("input"),b=D(),S=A("br"),g=D(),B=Y($),k=D(),C=A("br"),N=D(),R=Y(F),G=D(),U=A("br"),_=D(),nt.c(),v=D(),K=A("br"),V(o,"type","number"),V(r,"type","number"),V(u,"type","number"),V(M,"type","number")},m(h,y){H(t,h,y),m(h,s,y);for(let rt=0;rt<z.length;rt+=1)z[rt]&&z[rt].m(h,y);m(h,n,y),m(h,o,y),T(o,e[0].mass),m(h,i,y),m(h,l,y),m(h,r,y),T(r,e[2].mass),m(h,f,y),m(h,d,y),m(h,u,y),T(u,e[4]),m(h,a,y),m(h,p,y),m(h,w,y),m(h,M,y),T(M,e[5]),m(h,b,y),m(h,S,y),m(h,g,y),m(h,B,y),m(h,k,y),m(h,C,y),m(h,N,y),m(h,R,y),m(h,G,y),m(h,U,y),m(h,_,y),nt.m(h,y),m(h,v,y),m(h,K,y),E=!0,x||(mt=[j(o,"input",e[11]),j(r,"input",e[12]),j(u,"input",e[13]),j(M,"input",e[14])],x=!0)},p(h,[y]){const rt={};if(y&2&&(rt.connector=h[1]),y&64&&(rt.editable=!h[6]),t.$set(rt),y&128){tt=wt(h[7]);let Q;for(Q=0;Q<tt.length;Q+=1){const Yt=Xt(h,tt,Q);z[Q]?(z[Q].p(Yt,y),I(z[Q],1)):(z[Q]=Ft(Yt),z[Q].c(),I(z[Q],1),z[Q].m(n.parentNode,n))}for(lt(),Q=tt.length;Q<z.length;Q+=1)ee(Q);ut()}y&1&&X(o.value)!==h[0].mass&&T(o,h[0].mass),y&4&&X(r.value)!==h[2].mass&&T(r,h[2].mass),y&16&&X(u.value)!==h[4]&&T(u,h[4]),y&32&&X(M.value)!==h[5]&&T(M,h[5]),(!E||y&2)&&$!==($=h[1].pendAngle()+"")&&vt(B,$),(!E||y&8)&&F!==(F=h[3].pendAngle()+"")&&vt(R,F),$t===($t=Bt(h))&&nt?nt.p(h,y):(nt.d(1),nt=$t(h),nt&&(nt.c(),nt.m(v.parentNode,v)))},i(h){if(!E){I(t.$$.fragment,h);for(let y=0;y<tt.length;y+=1)I(z[y]);E=!0}},o(h){O(t.$$.fragment,h),z=z.filter(Boolean);for(let y=0;y<z.length;y+=1)O(z[y]);E=!1},d(h){h&&(c(s),c(n),c(o),c(i),c(l),c(r),c(f),c(d),c(u),c(a),c(p),c(w),c(M),c(b),c(S),c(g),c(B),c(k),c(C),c(N),c(R),c(G),c(U),c(_),c(v),c(K)),J(t,h),Ot(z,h),nt.d(h),x=!1,ot(mt)}}}let Ce=20;function ve(e,t,s){let n=new kt(0,100,10,0),o=new St(0,0,n),i=new kt(0,200,10,0),l=new St(0,0,i);n.bottomConnector=l,l.topMass=n,i.updateConnector(),n.updateConnector();let r=0,f=0,d=new L(500,200),u=!1,a,p=[],w=0;function M(){s(6,u=!0),a=setInterval(S,Ce),s(1,o.constant=o.massMagnitude(),o),s(1,o.theta=o.angle(),o),s(3,l.constant=l.massMagnitude(),l),s(3,l.theta=l.angle(),l)}function b(){s(6,u=!1),clearInterval(a)}function S(){let C=yt,N=n.mass,F=i.mass,R=o.pendAngle(),G=l.pendAngle(),U=Math.pow(o.dtheta,2),_=Math.pow(l.dtheta,2),v=o.massMagnitude(),K=l.massMagnitude(),E=Math.sin,x=Math.cos,mt=-C*(2*N+F)*E(R)-F*C*E(R-2*G)-2*E(R-G)*F*(_*K+U*v*x(R-G));mt/=v*(2*N+F-F*x(2*R-2*G));let tt=2*E(R-G)*(U*v*(N+F)+C*(N+F)*x(R)+_*K*F*x(R-G));tt/=K*(2*N+F-F*x(2*R-2*G)),mt-=o.dtheta*r,tt-=l.dtheta*f,s(1,o.dtheta+=mt*st.h,o),s(3,l.dtheta+=tt*st.h,l),s(1,o.theta+=o.dtheta,o),s(3,l.theta+=l.dtheta,l),l.setAngle(l.theta),o.setAngle(o.theta),s(1,o),s(3,l);let z=i.point.add(d);s(7,p[w++%200]={x:z.x,y:z.y},p)}function g(){n.mass=X(this.value),s(0,n)}function $(){i.mass=X(this.value),s(2,i)}function B(){r=X(this.value),s(4,r)}function k(){f=X(this.value),s(5,f)}return[n,o,i,l,r,f,u,p,d,M,b,g,$,B,k]}class Ae extends at{constructor(t){super(),ft(this,t,ve,$e,it,{})}}function Rt(e,t,s){const n=e.slice();return n[13]=t[s],n}function Ut(e){let t,s;return t=new qt({props:{p:e[13]}}),{c(){W(t.$$.fragment)},m(n,o){H(t,n,o),s=!0},p(n,o){const i={};o&16&&(i.p=n[13]),t.$set(i)},i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){O(t.$$.fragment,n),s=!1},d(n){J(t,n)}}}function Se(e){let t,s,n;return{c(){t=A("button"),t.textContent="Pause"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[7]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function Ne(e){let t,s,n;return{c(){t=A("button"),t.textContent="Start"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[6]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function Pe(e){let t,s,n,o,i,l,r,f,d,u,a=e[1].pendAngle()+"",p,w,M,b,S,g,$,B,k;t=new Lt({props:{connector:e[1],editable:!e[3],offset:e[5]}});let C=wt(e[4]),N=[];for(let _=0;_<C.length;_+=1)N[_]=Ut(Rt(e,C,_));const F=_=>O(N[_],1,1,()=>{N[_]=null});function R(_,v){return _[3]?Se:Ne}let G=R(e),U=G(e);return{c(){W(t.$$.fragment),s=D();for(let _=0;_<N.length;_+=1)N[_].c();n=Y(`\r
Top Mass: `),o=A("input"),i=A("br"),l=Y(`\r
Damping: `),r=A("input"),f=D(),d=A("br"),u=D(),p=Y(a),w=D(),M=A("br"),b=D(),U.c(),S=D(),g=A("br"),V(o,"type","number"),V(r,"type","number")},m(_,v){H(t,_,v),m(_,s,v);for(let K=0;K<N.length;K+=1)N[K]&&N[K].m(_,v);m(_,n,v),m(_,o,v),T(o,e[0].mass),m(_,i,v),m(_,l,v),m(_,r,v),T(r,e[2]),m(_,f,v),m(_,d,v),m(_,u,v),m(_,p,v),m(_,w,v),m(_,M,v),m(_,b,v),U.m(_,v),m(_,S,v),m(_,g,v),$=!0,B||(k=[j(o,"input",e[8]),j(r,"input",e[9])],B=!0)},p(_,[v]){const K={};if(v&2&&(K.connector=_[1]),v&8&&(K.editable=!_[3]),t.$set(K),v&16){C=wt(_[4]);let E;for(E=0;E<C.length;E+=1){const x=Rt(_,C,E);N[E]?(N[E].p(x,v),I(N[E],1)):(N[E]=Ut(x),N[E].c(),I(N[E],1),N[E].m(n.parentNode,n))}for(lt(),E=C.length;E<N.length;E+=1)F(E);ut()}v&1&&X(o.value)!==_[0].mass&&T(o,_[0].mass),v&4&&X(r.value)!==_[2]&&T(r,_[2]),(!$||v&2)&&a!==(a=_[1].pendAngle()+"")&&vt(p,a),G===(G=R(_))&&U?U.p(_,v):(U.d(1),U=G(_),U&&(U.c(),U.m(S.parentNode,S)))},i(_){if(!$){I(t.$$.fragment,_);for(let v=0;v<C.length;v+=1)I(N[v]);$=!0}},o(_){O(t.$$.fragment,_),N=N.filter(Boolean);for(let v=0;v<N.length;v+=1)O(N[v]);$=!1},d(_){_&&(c(s),c(n),c(o),c(i),c(l),c(r),c(f),c(d),c(u),c(p),c(w),c(M),c(b),c(S),c(g)),J(t,_),Ot(N,_),U.d(_),B=!1,ot(k)}}}let Ie=20;function De(e,t,s){let n=new kt(0,100,10,0),o=new St(0,0,n);n.updateConnector();let i=0,l=new L(500,200),r=!1,f,d=[],u=0;function a(){s(3,r=!0),f=setInterval(w,Ie),s(1,o.constant=o.massMagnitude(),o),s(1,o.theta=o.angle(),o)}function p(){s(3,r=!1),clearInterval(f)}function w(){let S=yt;n.mass;let g=o.pendAngle(),$=o.massMagnitude(),B=Math.sin,k=-S/$*B(g);k-=o.dtheta*i,s(1,o.dtheta+=k*st.h,o),s(1,o.theta+=o.dtheta,o),o.setAngle(o.theta),s(1,o);let C=n.point.add(l);s(4,d[u++%200]={x:C.x,y:C.y},d)}function M(){n.mass=X(this.value),s(0,n)}function b(){i=X(this.value),s(2,i)}return[n,o,i,r,d,l,a,p,M,b]}class Ee extends at{constructor(t){super(),ft(this,t,De,Pe,it,{})}}function Vt(e,t,s){const n=e.slice();return n[14]=t[s],n[15]=t,n[16]=s,n}function Oe(e){let t,s,n;return{c(){t=A("button"),t.textContent="Pause"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[5]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function ze(e){let t,s,n;return{c(){t=A("button"),t.textContent="Start"},m(o,i){m(o,t,i),s||(n=j(t,"click",e[4]),s=!0)},p:Z,d(o){o&&c(t),s=!1,n()}}}function Gt(e){let t,s,n,o,i,l;function r(){e[7].call(s,e[15],e[16])}return{c(){t=Y("Spring constant: "),s=A("input"),n=D(),o=A("br"),V(s,"type","number")},m(f,d){m(f,t,d),m(f,s,d),T(s,e[14].topConnector.constant),m(f,n,d),m(f,o,d),i||(l=j(s,"input",r),i=!0)},p(f,d){e=f,d&2&&X(s.value)!==e[14].topConnector.constant&&T(s,e[14].topConnector.constant)},d(f){f&&(c(t),c(s),c(n),c(o)),i=!1,l()}}}function Kt(e){let t,s,n,o,i,l,r,f,d,u,a,p,w,M,b,S,g=e[14].topConnector&&Gt(e);function $(){e[8].call(r,e[15],e[16])}function B(){e[9].call(a,e[15],e[16])}return{c(){t=Y("Spring #"),s=Y(e[16]),n=Y(": "),o=A("br"),i=D(),g&&g.c(),l=Y(`\r
  Mass: `),r=A("input"),f=D(),d=A("br"),u=Y(`\r
  Damping: `),a=A("input"),p=D(),w=A("br"),M=A("br"),V(r,"type","number"),V(a,"type","number")},m(k,C){m(k,t,C),m(k,s,C),m(k,n,C),m(k,o,C),m(k,i,C),g&&g.m(k,C),m(k,l,C),m(k,r,C),T(r,e[14].mass),m(k,f,C),m(k,d,C),m(k,u,C),m(k,a,C),T(a,e[14].damping),m(k,p,C),m(k,w,C),m(k,M,C),b||(S=[j(r,"input",$),j(a,"input",B)],b=!0)},p(k,C){e=k,e[14].topConnector?g?g.p(e,C):(g=Gt(e),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),C&2&&X(r.value)!==e[14].mass&&T(r,e[14].mass),C&2&&X(a.value)!==e[14].damping&&T(a,e[14].damping)},d(k){k&&(c(t),c(s),c(n),c(o),c(i),c(l),c(r),c(f),c(d),c(u),c(a),c(p),c(w),c(M)),g&&g.d(k),b=!1,ot(S)}}}function qe(e){let t,s,n,o,i,l,r,f,d;t=new xt({props:{connector:e[0],editable:!e[2],offset:e[3]}});function u(b,S){return b[2]?Oe:ze}let a=u(e),p=a(e),w=wt(e[1]),M=[];for(let b=0;b<w.length;b+=1)M[b]=Kt(Vt(e,w,b));return{c(){W(t.$$.fragment),s=D(),p.c(),n=D(),o=A("br"),i=Y(`\r
From top to bottom `),l=A("br"),r=D();for(let b=0;b<M.length;b+=1)M[b].c();f=pt()},m(b,S){H(t,b,S),m(b,s,S),p.m(b,S),m(b,n,S),m(b,o,S),m(b,i,S),m(b,l,S),m(b,r,S);for(let g=0;g<M.length;g+=1)M[g]&&M[g].m(b,S);m(b,f,S),d=!0},p(b,[S]){const g={};if(S&1&&(g.connector=b[0]),S&4&&(g.editable=!b[2]),t.$set(g),a===(a=u(b))&&p?p.p(b,S):(p.d(1),p=a(b),p&&(p.c(),p.m(n.parentNode,n))),S&2){w=wt(b[1]);let $;for($=0;$<w.length;$+=1){const B=Vt(b,w,$);M[$]?M[$].p(B,S):(M[$]=Kt(B),M[$].c(),M[$].m(f.parentNode,f))}for(;$<M.length;$+=1)M[$].d(1);M.length=w.length}},i(b){d||(I(t.$$.fragment,b),d=!0)},o(b){O(t.$$.fragment,b),d=!1},d(b){b&&(c(s),c(n),c(o),c(i),c(l),c(r),c(f)),J(t,b),p.d(b),Ot(M,b)}}}let Le=20;function Be(e,t,s){let{springs:n}=t,o=new kt(0,100,10,0),i=new st(0,0,5,o),l=o,r=[o];for(let g=1;g<n;g++){let $=new kt(0,100+g*100,10,0),B=new st(0,0,5,$);l.bottomConnector=B,l=$,r.push(l)}r.forEach(g=>{g.updateConnector()});let f=new L(500,200),d=!1,u;function a(){s(2,d=!0),u=setInterval(w,Le)}function p(){s(2,d=!1),clearInterval(u)}function w(){i.simulationStep(),s(0,i)}function M(g,$){g[$].topConnector.constant=X(this.value),s(1,r)}function b(g,$){g[$].mass=X(this.value),s(1,r)}function S(g,$){g[$].damping=X(this.value),s(1,r)}return e.$$set=g=>{"springs"in g&&s(6,n=g.springs)},[i,r,d,f,a,p,n,M,b,S]}class Ye extends at{constructor(t){super(),ft(this,t,Be,qe,it,{springs:6})}}function je(e){let t,s;return t=new Ee({}),{c(){W(t.$$.fragment)},m(n,o){H(t,n,o),s=!0},p:Z,i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){O(t.$$.fragment,n),s=!1},d(n){J(t,n)}}}function Te(e){let t,s,n,o;const i=[Fe,Xe],l=[];function r(f,d){return f[1]?0:1}return t=r(e),s=l[t]=i[t](e),{c(){s.c(),n=pt()},m(f,d){l[t].m(f,d),m(f,n,d),o=!0},p(f,d){let u=t;t=r(f),t===u?l[t].p(f,d):(lt(),O(l[u],1,1,()=>{l[u]=null}),ut(),s=l[t],s?s.p(f,d):(s=l[t]=i[t](f),s.c()),I(s,1),s.m(n.parentNode,n))},i(f){o||(I(s),o=!0)},o(f){O(s),o=!1},d(f){f&&c(n),l[t].d(f)}}}function Xe(e){let t,s;return t=new Ae({}),{c(){W(t.$$.fragment)},m(n,o){H(t,n,o),s=!0},p:Z,i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){O(t.$$.fragment,n),s=!1},d(n){J(t,n)}}}function Fe(e){let t=e[2],s,n,o=Ht(e);return{c(){o.c(),s=pt()},m(i,l){o.m(i,l),m(i,s,l),n=!0},p(i,l){l&4&&it(t,t=i[2])?(lt(),O(o,1,1,Z),ut(),o=Ht(i),o.c(),I(o,1),o.m(s.parentNode,s)):o.p(i,l)},i(i){n||(I(o),n=!0)},o(i){O(o),n=!1},d(i){i&&c(s),o.d(i)}}}function Ht(e){let t,s;return t=new Ye({props:{springs:e[2]}}),{c(){W(t.$$.fragment)},m(n,o){H(t,n,o),s=!0},p(n,o){const i={};o&4&&(i.springs=n[2]),t.$set(i)},i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){O(t.$$.fragment,n),s=!1},d(n){J(t,n)}}}function Re(e){let t,s,n,o,i,l,r,f,d,u,a,p,w,M,b,S;const g=[Te,je],$=[];function B(k,C){return k[0]?0:1}return s=B(e),n=$[s]=g[s](e),{c(){t=A("main"),n.c(),o=Y(`
  Double: `),i=A("input"),l=D(),r=A("br"),f=Y(`
  Spring: `),d=A("input"),u=D(),a=A("br"),p=Y(`
  Spring: `),w=A("input"),V(i,"type","checkbox"),V(d,"type","checkbox"),V(w,"type","number"),V(t,"class","svelte-x1aiyb")},m(k,C){m(k,t,C),$[s].m(t,null),et(t,o),et(t,i),i.checked=e[0],et(t,l),et(t,r),et(t,f),et(t,d),d.checked=e[1],et(t,u),et(t,a),et(t,p),et(t,w),T(w,e[2]),M=!0,b||(S=[j(i,"change",e[3]),j(d,"change",e[4]),j(w,"input",e[5])],b=!0)},p(k,[C]){let N=s;s=B(k),s===N?$[s].p(k,C):(lt(),O($[N],1,1,()=>{$[N]=null}),ut(),n=$[s],n?n.p(k,C):(n=$[s]=g[s](k),n.c()),I(n,1),n.m(t,o)),C&1&&(i.checked=k[0]),C&2&&(d.checked=k[1]),C&4&&X(w.value)!==k[2]&&T(w,k[2])},i(k){M||(I(n),M=!0)},o(k){O(n),M=!1},d(k){k&&c(t),$[s].d(),b=!1,ot(S)}}}function Ue(e,t,s){let n=!1,o=!1,i=2;function l(){n=this.checked,s(0,n)}function r(){o=this.checked,s(1,o)}function f(){i=X(this.value),s(2,i)}return[n,o,i,l,r,f]}class Ve extends at{constructor(t){super(),ft(this,t,Ue,Re,it,{})}}new Ve({target:document.getElementById("app")});

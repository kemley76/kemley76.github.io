(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();var en=Object.defineProperty,on=(n,t,o)=>t in n?en(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,j=(n,t,o)=>(on(n,typeof t!="symbol"?t+"":t,o),o);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();function Z(){}function Jt(n){return n()}function kt(){return Object.create(null)}function st(n){n.forEach(Jt)}function Qt(n){return typeof n=="function"}function rt(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function sn(n){return Object.keys(n).length===0}function nt(n,t){n.appendChild(t)}function d(n,t,o){n.insertBefore(t,o||null)}function f(n){n.parentNode&&n.parentNode.removeChild(n)}function qt(n,t){for(let o=0;o<n.length;o+=1)n[o]&&n[o].d(t)}function A(n){return document.createElement(n)}function Y(n){return document.createTextNode(n)}function z(){return Y(" ")}function pt(){return Y("")}function k(n,t,o,e){return n.addEventListener(t,o,e),()=>n.removeEventListener(t,o,e)}function U(n,t,o){o==null?n.removeAttribute(t):n.getAttribute(t)!==o&&n.setAttribute(t,o)}function K(n){return n===""?null:+n}function rn(n){return Array.from(n.childNodes)}function Nt(n,t){t=""+t,n.data!==t&&(n.data=t)}function F(n,t){n.value=t??""}function O(n,t,o,e){o==null?n.style.removeProperty(t):n.style.setProperty(t,o,e?"important":"")}function $t(n,t){return new n(t)}let It;function wt(n){It=n}const ht=[],bt=[];let gt=[];const St=[],an=Promise.resolve();let zt=!1;function cn(){zt||(zt=!0,an.then(Zt))}function Bt(n){gt.push(n)}function Wt(n){St.push(n)}const Ot=new Set;let mt=0;function Zt(){if(mt!==0)return;const n=It;do{try{for(;mt<ht.length;){const t=ht[mt];mt++,wt(t),un(t.$$)}}catch(t){throw ht.length=0,mt=0,t}for(wt(null),ht.length=0,mt=0;bt.length;)bt.pop()();for(let t=0;t<gt.length;t+=1){const o=gt[t];Ot.has(o)||(Ot.add(o),o())}gt.length=0}while(ht.length);for(;St.length;)St.pop()();zt=!1,Ot.clear(),wt(n)}function un(n){if(n.fragment!==null){n.update(),st(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Bt)}}function ln(n){const t=[],o=[];gt.forEach(e=>n.indexOf(e)===-1?t.push(e):o.push(e)),o.forEach(e=>e()),gt=t}const Ct=new Set;let ft;function it(){ft={r:0,c:[],p:ft}}function at(){ft.r||st(ft.c),ft=ft.p}function S(n,t){n&&n.i&&(Ct.delete(n),n.i(t))}function q(n,t,o,e){if(n&&n.o){if(Ct.has(n))return;Ct.add(n),ft.c.push(()=>{Ct.delete(n),e&&(o&&n.d(1),e())}),n.o(t)}else e&&e()}function xt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function At(n,t,o){const e=n.$$.props[t];e!==void 0&&(n.$$.bound[e]=o,o(n.$$.ctx[e]))}function W(n){n&&n.c()}function H(n,t,o){const{fragment:e,after_update:s}=n.$$;e&&e.m(t,o),Bt(()=>{const r=n.$$.on_mount.map(Jt).filter(Qt);n.$$.on_destroy?n.$$.on_destroy.push(...r):st(r),n.$$.on_mount=[]}),s.forEach(Bt)}function J(n,t){const o=n.$$;o.fragment!==null&&(ln(o.after_update),st(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function fn(n,t){n.$$.dirty[0]===-1&&(ht.push(n),cn(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function ut(n,t,o,e,s,r,i=null,c=[-1]){const u=It;wt(n);const m=n.$$={fragment:null,ctx:[],props:r,update:Z,not_equal:s,bound:kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:kt(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};i&&i(m.root);let a=!1;if(m.ctx=o?o(n,t.props||{},(l,p,...x)=>{const w=x.length?x[0]:p;return m.ctx&&s(m.ctx[l],m.ctx[l]=w)&&(!m.skip_bound&&m.bound[l]&&m.bound[l](w),a&&fn(n,l)),p}):[],m.update(),a=!0,st(m.before_update),m.fragment=e?e(m.ctx):!1,t.target){if(t.hydrate){const l=rn(t.target);m.fragment&&m.fragment.l(l),l.forEach(f)}else m.fragment&&m.fragment.c();t.intro&&S(n.$$.fragment),H(n,t.target,t.anchor),Zt()}wt(u)}class lt{constructor(){j(this,"$$"),j(this,"$$set")}$destroy(){J(this,1),this.$destroy=Z}$on(t,o){if(!Qt(o))return Z;const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(o),()=>{const s=e.indexOf(o);s!==-1&&e.splice(s,1)}}$set(t){this.$$set&&!sn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pn);function dn(n){let t;return{c(){t=A("div"),U(t,"class","point svelte-1dc5ydu"),O(t,"left",n[0].x+"px"),O(t,"top",n[0].y+"px")},m(o,e){d(o,t,e)},p(o,[e]){e&1&&O(t,"left",o[0].x+"px"),e&1&&O(t,"top",o[0].y+"px")},i:Z,o:Z,d(o){o&&f(t)}}}function mn(n,t,o){let{p:e}=t;return n.$$set=s=>{"p"in s&&o(0,e=s.p)},[e]}class Dt extends lt{constructor(t){super(),ut(this,t,mn,dn,rt,{p:0})}}function hn(n){let t,o,e,s,r,i;function c(a){n[3](a)}var u=Et;function m(a,l){let p={editable:{x:!1,y:a[2]},offset:a[1]};return a[0].bottomMass!==void 0&&(p.mass=a[0].bottomMass),{props:p}}return u&&(e=$t(u,m(n)),bt.push(()=>At(e,"mass",c))),{c(){t=A("div"),o=z(),e&&W(e.$$.fragment),r=pt(),U(t,"class","spring svelte-xta3oy"),O(t,"left",n[0].start.x+n[1].x+"px"),O(t,"top",n[0].start.y+n[1].y+"px"),O(t,"width",n[0].magnitude()+"px"),O(t,"transform","rotate("+n[0].angle()+"rad)"),O(t,"background","repeating-linear-gradient( 45deg, transparent, transparent "+(5+n[0].constant)+"%, #222222 "+(5+n[0].constant)+"%, #222222 "+(5+n[0].constant)*2+"% )")},m(a,l){d(a,t,l),d(a,o,l),e&&H(e,a,l),d(a,r,l),i=!0},p(a,[l]){if((!i||l&3)&&O(t,"left",a[0].start.x+a[1].x+"px"),(!i||l&3)&&O(t,"top",a[0].start.y+a[1].y+"px"),(!i||l&1)&&O(t,"width",a[0].magnitude()+"px"),(!i||l&1)&&O(t,"transform","rotate("+a[0].angle()+"rad)"),(!i||l&1)&&O(t,"background","repeating-linear-gradient( 45deg, transparent, transparent "+(5+a[0].constant)+"%, #222222 "+(5+a[0].constant)+"%, #222222 "+(5+a[0].constant)*2+"% )"),u!==(u=Et)){if(e){it();const p=e;q(p.$$.fragment,1,0,()=>{J(p,1)}),at()}u?(e=$t(u,m(a)),bt.push(()=>At(e,"mass",c)),W(e.$$.fragment),S(e.$$.fragment,1),H(e,r.parentNode,r)):e=null}else if(u){const p={};l&4&&(p.editable={x:!1,y:a[2]}),l&2&&(p.offset=a[1]),!s&&l&1&&(s=!0,p.mass=a[0].bottomMass,Wt(()=>s=!1)),e.$set(p)}},i(a){i||(e&&S(e.$$.fragment,a),i=!0)},o(a){e&&q(e.$$.fragment,a),i=!1},d(a){a&&(f(t),f(o),f(r)),e&&J(e,a)}}}function gn(n,t,o){let{connector:e}=t,{offset:s=new D(0,0)}=t,{editable:r=!0}=t;function i(c){n.$$.not_equal(e.bottomMass,c)&&(e.bottomMass=c,o(0,e))}return n.$$set=c=>{"connector"in c&&o(0,e=c.connector),"offset"in c&&o(1,s=c.offset),"editable"in c&&o(2,r=c.editable)},[e,s,r,i]}class _t extends lt{constructor(t){super(),ut(this,t,gn,hn,rt,{connector:0,offset:1,editable:2})}}const yt=9.80665;class tn{constructor(t,o,e){j(this,"start"),j(this,"end"),j(this,"bottomMass"),j(this,"theta"),j(this,"component"),j(this,"topMass"),j(this,"constant"),this.start=new D(t,o),this.end=new D(t,o-e.size()/2),this.bottomMass=e,e.topConnector=this,this.theta=this.angle(),this.constant=0}magnitude(){return this.direction().magnitude()}massMagnitude(){return this.start.subtract(this.bottomMass.point).magnitude()}angle(){return this.bottomMass.point.subtract(this.start).angle()}pendAngle(){return this.angle()-Math.PI/2}direction(){return this.end.subtract(this.start)}unitDirection(){return this.direction().unit()}force(){return new D(0,0)}simulationStep(){}}class ot extends tn{constructor(t,o,e,s){super(t,o,s),j(this,"component",_t),this.constant=e}equilibrium(){return this.bottomMass.bottomConnector?new D(0,(this.bottomMass.bottomConnector.bottomMass.mass+this.bottomMass.mass)*yt/this.constant):new D(0,this.bottomMass.mass*yt/this.constant)}force(){return this.direction().multiply(-this.constant)}simulationStep(){this.bottomMass&&this.bottomMass.simulationStep(this.force())}}j(ot,"h",.1);class Pt extends tn{constructor(t,o,e){super(t,o,e),j(this,"component",jt),j(this,"dtheta"),this.dtheta=0,this.constant=this.massMagnitude()}force(){let t=Math.sin(this.pendAngle()),o=Math.cos(this.pendAngle()),e=o*this.bottomMass.mass*yt+this.bottomMass.mass*Math.pow(this.bottomMass.point.velocity().magnitude(),2)/this.constant;if(this.bottomMass.bottomConnector){let s=this.bottomMass.bottomConnector;e+=Math.cos(s.pendAngle()-this.pendAngle())*s.force().magnitude()}return new D(t*e,-o*e)}simulationStep(){this.bottomMass&&(this.bottomMass.simulationStep(this.force()),this.theta=this.angle())}setAngle(t){this.bottomMass.setPoint(new D(Math.cos(t),Math.sin(t)).multiply(this.constant).add(this.start))}}j(Pt,"h",.1);class Mt{constructor(t,o,e,s){j(this,"point"),j(this,"mass"),j(this,"damping"),j(this,"topConnector"),j(this,"bottomConnector"),j(this,"name"),this.point=new D(t,o),this.mass=e,this.damping=s,this.name=""}simulationStep(t){var o;let e=t.add(new D(0,this.mass*yt));this.bottomConnector&&(e=e.subtract(this.bottomConnector.force())),this.damping!=0?e=e.divide(this.mass).subtract(this.point.velocity().multiply(this.damping)):e=e.divide(this.mass),this.point.dx+=ot.h*e.x,this.point.dy+=ot.h*e.y,this.point.y+=ot.h*this.point.dy,this.point.x+=ot.h*this.point.dx,this.setY(this.point.y),this.setX(this.point.x),(o=this.bottomConnector)==null||o.simulationStep()}size(){return Math.sqrt(this.mass)*20}setPoint(t){this.point=t.copy(),this.setX(t.x),this.setY(t.y),this.topConnector&&(this.topConnector.theta=this.topConnector.angle())}setX(t){this.point.x=t,this.topConnector&&(this.topConnector.end.x=t),this.bottomConnector&&(this.bottomConnector.start.x=t)}setY(t){this.point.y=t,this.topConnector&&(this.topConnector.end.y=t-this.size()/2),this.bottomConnector&&(this.bottomConnector.start.y=t+this.size()/2)}updateConnector(){this.topConnector&&(this.topConnector.end=this.point.add(new D(0,-this.size()/2))),this.bottomConnector&&(this.bottomConnector.start=this.point.add(new D(0,this.size()/2)))}}class D{constructor(t,o){j(this,"x"),j(this,"y"),j(this,"dx"),j(this,"dy"),this.x=t,this.y=o,this.dx=0,this.dy=0}add(t){return new D(this.x+t.x,this.y+t.y)}multiply(t){return new D(this.x*t,this.y*t)}subtract(t){return new D(this.x-t.x,this.y-t.y)}divide(t){if(t==0)throw new Error("Dividing point by zero!!! Ya can't do that!");return new D(this.x/t,this.y/t)}velocity(){return new D(this.dx,this.dy)}magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}copy(){return new D(this.x,this.y)}angle(){return Math.atan2(this.y,this.x)}unit(){return this.divide(this.magnitude())}}function Ft(n){let t,o,e;var s=n[0].bottomConnector.component;function r(i,c){return{props:{connector:i[0].bottomConnector,offset:i[1],editable:i[2].y}}}return s&&(t=$t(s,r(n))),{c(){t&&W(t.$$.fragment),o=pt()},m(i,c){t&&H(t,i,c),d(i,o,c),e=!0},p(i,c){if(c&1&&s!==(s=i[0].bottomConnector.component)){if(t){it();const u=t;q(u.$$.fragment,1,0,()=>{J(u,1)}),at()}s?(t=$t(s,r(i)),W(t.$$.fragment),S(t.$$.fragment,1),H(t,o.parentNode,o)):t=null}else if(s){const u={};c&1&&(u.connector=i[0].bottomConnector),c&2&&(u.offset=i[1]),c&4&&(u.editable=i[2].y),t.$set(u)}},i(i){e||(t&&S(t.$$.fragment,i),e=!0)},o(i){t&&q(t.$$.fragment,i),e=!1},d(i){i&&f(o),t&&J(t,i)}}}function $n(n){let t,o=n[0].name+"",e,s,r,i,c,u,m,a;r=new Dt({props:{p:n[0].point.add(n[1])}});let l=n[0].bottomConnector&&Ft(n);return{c(){t=A("div"),e=Y(o),s=z(),W(r.$$.fragment),i=z(),l&&l.c(),c=pt(),U(t,"class","weight svelte-18jwvb6"),O(t,"left",n[0].point.x+n[1].x+"px"),O(t,"top",n[0].point.y+n[1].y+"px"),O(t,"width",n[0].size()+"px"),O(t,"height",n[0].size()+"px"),O(t,"transform","translate(-50%, -50%)")},m(p,x){d(p,t,x),nt(t,e),d(p,s,x),H(r,p,x),d(p,i,x),l&&l.m(p,x),d(p,c,x),u=!0,m||(a=[k(window,"mouseup",n[5]),k(window,"mousemove",n[4]),k(t,"mousedown",n[3])],m=!0)},p(p,[x]){(!u||x&1)&&o!==(o=p[0].name+"")&&Nt(e,o),(!u||x&3)&&O(t,"left",p[0].point.x+p[1].x+"px"),(!u||x&3)&&O(t,"top",p[0].point.y+p[1].y+"px"),(!u||x&1)&&O(t,"width",p[0].size()+"px"),(!u||x&1)&&O(t,"height",p[0].size()+"px");const w={};x&3&&(w.p=p[0].point.add(p[1])),r.$set(w),p[0].bottomConnector?l?(l.p(p,x),x&1&&S(l,1)):(l=Ft(p),l.c(),S(l,1),l.m(c.parentNode,c)):l&&(it(),q(l,1,1,()=>{l=null}),at())},i(p){u||(S(r.$$.fragment,p),S(l),u=!0)},o(p){q(r.$$.fragment,p),q(l),u=!1},d(p){p&&(f(t),f(s),f(i),f(c)),J(r,p),l&&l.d(p),m=!1,st(a)}}}function bn(n,t,o){let{mass:e}=t,{offset:s}=t,{editable:r}=t,i;function c(a){i={dragging:!0,point:new D(a.x,a.y).subtract(e.point)}}function u(a){if(!i||!i.dragging)return;let l=new D(a.x,a.y).subtract(i.point);r.x&&r.y?e.setPoint(l):(r.x&&e.setX(l.x),r.y&&e.setY(l.y)),o(0,e)}function m(){i&&(o(0,e.point.dx=0,e),o(0,e.point.dy=0,e),i.dragging=!1)}return n.$$set=a=>{"mass"in a&&o(0,e=a.mass),"offset"in a&&o(1,s=a.offset),"editable"in a&&o(2,r=a.editable)},[e,s,r,c,u,m]}class Et extends lt{constructor(t){super(),ut(this,t,bn,$n,rt,{mass:0,offset:1,editable:2})}}function xn(n){let t,o,e,s,r,i;function c(a){n[3](a)}var u=Et;function m(a,l){let p={editable:{x:a[2],y:a[2]},offset:a[1]};return a[0].bottomMass!==void 0&&(p.mass=a[0].bottomMass),{props:p}}return u&&(e=$t(u,m(n)),bt.push(()=>At(e,"mass",c))),{c(){t=A("div"),o=z(),e&&W(e.$$.fragment),r=pt(),U(t,"class","pendulum svelte-1oqqom2"),O(t,"left",n[0].start.x+n[1].x+"px"),O(t,"top",n[0].start.y+n[1].y+"px"),O(t,"width",n[0].magnitude()+"px"),O(t,"transform","rotate("+n[0].angle()+"rad)")},m(a,l){d(a,t,l),d(a,o,l),e&&H(e,a,l),d(a,r,l),i=!0},p(a,[l]){if((!i||l&3)&&O(t,"left",a[0].start.x+a[1].x+"px"),(!i||l&3)&&O(t,"top",a[0].start.y+a[1].y+"px"),(!i||l&1)&&O(t,"width",a[0].magnitude()+"px"),(!i||l&1)&&O(t,"transform","rotate("+a[0].angle()+"rad)"),u!==(u=Et)){if(e){it();const p=e;q(p.$$.fragment,1,0,()=>{J(p,1)}),at()}u?(e=$t(u,m(a)),bt.push(()=>At(e,"mass",c)),W(e.$$.fragment),S(e.$$.fragment,1),H(e,r.parentNode,r)):e=null}else if(u){const p={};l&4&&(p.editable={x:a[2],y:a[2]}),l&2&&(p.offset=a[1]),!s&&l&1&&(s=!0,p.mass=a[0].bottomMass,Wt(()=>s=!1)),e.$set(p)}},i(a){i||(e&&S(e.$$.fragment,a),i=!0)},o(a){e&&q(e.$$.fragment,a),i=!1},d(a){a&&(f(t),f(o),f(r)),e&&J(e,a)}}}function yn(n,t,o){let{connector:e}=t,{offset:s=new D(0,0)}=t,{editable:r=!0}=t;function i(c){n.$$.not_equal(e.bottomMass,c)&&(e.bottomMass=c,o(0,e))}return n.$$set=c=>{"connector"in c&&o(0,e=c.connector),"offset"in c&&o(1,s=c.offset),"editable"in c&&o(2,r=c.editable)},[e,s,r,i]}class wn extends lt{constructor(t){super(),ut(this,t,yn,xn,rt,{connector:0,offset:1,editable:2})}}const jt=wn;function Kt(n,t,o){const e=n.slice();return e[18]=t[o],e}function Xt(n){let t,o;return t=new Dt({props:{p:n[18]}}),{c(){W(t.$$.fragment)},m(e,s){H(t,e,s),o=!0},p(e,s){const r={};s&128&&(r.p=e[18]),t.$set(r)},i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),o=!1},d(e){J(t,e)}}}function Mn(n){let t,o,e;return{c(){t=A("button"),t.textContent="Pause"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[10]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function vn(n){let t,o,e;return{c(){t=A("button"),t.textContent="Start"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[9]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function Cn(n){let t,o,e,s,r,i,c,u,m,a,l,p,x,w,$,P,b,v=n[1].pendAngle()+"",L,M,C,E,X=n[3].pendAngle()+"",T,G,R,g,N,V,B,_,dt;t=new jt({props:{connector:n[1],editable:!n[6],offset:n[8]}});let tt=xt(n[7]),I=[];for(let h=0;h<tt.length;h+=1)I[h]=Xt(Kt(n,tt,h));const nn=h=>q(I[h],1,1,()=>{I[h]=null});function Lt(h,y){return h[6]?Mn:vn}let vt=Lt(n),et=vt(n);return{c(){W(t.$$.fragment),o=z();for(let h=0;h<I.length;h+=1)I[h].c();e=Y(`\r
Top Mass: `),s=A("input"),r=A("br"),i=Y(`\r
Bottom Mass: `),c=A("input"),u=A("br"),m=Y(`\r
Damping: `),a=A("input"),l=z(),p=A("br"),x=Y(`\r
Damping: `),w=A("input"),$=z(),P=A("br"),b=z(),L=Y(v),M=z(),C=A("br"),E=z(),T=Y(X),G=z(),R=A("br"),g=z(),et.c(),N=z(),V=A("br"),U(s,"type","number"),U(c,"type","number"),U(a,"type","number"),U(w,"type","number")},m(h,y){H(t,h,y),d(h,o,y);for(let ct=0;ct<I.length;ct+=1)I[ct]&&I[ct].m(h,y);d(h,e,y),d(h,s,y),F(s,n[0].mass),d(h,r,y),d(h,i,y),d(h,c,y),F(c,n[2].mass),d(h,u,y),d(h,m,y),d(h,a,y),F(a,n[4]),d(h,l,y),d(h,p,y),d(h,x,y),d(h,w,y),F(w,n[5]),d(h,$,y),d(h,P,y),d(h,b,y),d(h,L,y),d(h,M,y),d(h,C,y),d(h,E,y),d(h,T,y),d(h,G,y),d(h,R,y),d(h,g,y),et.m(h,y),d(h,N,y),d(h,V,y),B=!0,_||(dt=[k(s,"input",n[11]),k(c,"input",n[12]),k(a,"input",n[13]),k(w,"input",n[14])],_=!0)},p(h,[y]){const ct={};if(y&2&&(ct.connector=h[1]),y&64&&(ct.editable=!h[6]),t.$set(ct),y&128){tt=xt(h[7]);let Q;for(Q=0;Q<tt.length;Q+=1){const Yt=Kt(h,tt,Q);I[Q]?(I[Q].p(Yt,y),S(I[Q],1)):(I[Q]=Xt(Yt),I[Q].c(),S(I[Q],1),I[Q].m(e.parentNode,e))}for(it(),Q=tt.length;Q<I.length;Q+=1)nn(Q);at()}y&1&&K(s.value)!==h[0].mass&&F(s,h[0].mass),y&4&&K(c.value)!==h[2].mass&&F(c,h[2].mass),y&16&&K(a.value)!==h[4]&&F(a,h[4]),y&32&&K(w.value)!==h[5]&&F(w,h[5]),(!B||y&2)&&v!==(v=h[1].pendAngle()+"")&&Nt(L,v),(!B||y&8)&&X!==(X=h[3].pendAngle()+"")&&Nt(T,X),vt===(vt=Lt(h))&&et?et.p(h,y):(et.d(1),et=vt(h),et&&(et.c(),et.m(N.parentNode,N)))},i(h){if(!B){S(t.$$.fragment,h);for(let y=0;y<tt.length;y+=1)S(I[y]);B=!0}},o(h){q(t.$$.fragment,h),I=I.filter(Boolean);for(let y=0;y<I.length;y+=1)q(I[y]);B=!1},d(h){h&&(f(o),f(e),f(s),f(r),f(i),f(c),f(u),f(m),f(a),f(l),f(p),f(x),f(w),f($),f(P),f(b),f(L),f(M),f(C),f(E),f(T),f(G),f(R),f(g),f(N),f(V)),J(t,h),qt(I,h),et.d(h),_=!1,st(dt)}}}let Nn=20;function An(n,t,o){let e=new Mt(0,100,10,0),s=new Pt(0,0,e),r=new Mt(0,200,10,0),i=new Pt(0,0,r);e.bottomConnector=i,i.topMass=e,r.updateConnector(),e.updateConnector();let c=0,u=0,m=new D(500,200),a=!1,l,p=[],x=0;function w(){o(6,a=!0),l=setInterval(P,Nn),o(1,s.constant=s.massMagnitude(),s),o(1,s.theta=s.angle(),s),o(3,i.constant=i.massMagnitude(),i),o(3,i.theta=i.angle(),i)}function $(){o(6,a=!1),clearInterval(l)}function P(){let C=yt,E=e.mass,X=r.mass,T=s.pendAngle(),G=i.pendAngle(),R=Math.pow(s.dtheta,2),g=Math.pow(i.dtheta,2),N=s.massMagnitude(),V=i.massMagnitude(),B=Math.sin,_=Math.cos,dt=-C*(2*E+X)*B(T)-X*C*B(T-2*G)-2*B(T-G)*X*(g*V+R*N*_(T-G));dt/=N*(2*E+X-X*_(2*T-2*G));let tt=2*B(T-G)*(R*N*(E+X)+C*(E+X)*_(T)+g*V*X*_(T-G));tt/=V*(2*E+X-X*_(2*T-2*G)),dt-=s.dtheta*c,tt-=i.dtheta*u,o(1,s.dtheta+=dt*ot.h,s),o(3,i.dtheta+=tt*ot.h,i),o(1,s.theta+=s.dtheta,s),o(3,i.theta+=i.dtheta,i),i.setAngle(i.theta),s.setAngle(s.theta),o(1,s),o(3,i);let I=r.point.add(m);o(7,p[x++%200]={x:I.x,y:I.y},p)}function b(){e.mass=K(this.value),o(0,e)}function v(){r.mass=K(this.value),o(2,r)}function L(){c=K(this.value),o(4,c)}function M(){u=K(this.value),o(5,u)}return[e,s,r,i,c,u,a,p,m,w,$,b,v,L,M]}class Pn extends lt{constructor(t){super(),ut(this,t,An,Cn,rt,{})}}function Tt(n,t,o){const e=n.slice();return e[13]=t[o],e}function Rt(n){let t,o;return t=new Dt({props:{p:n[13]}}),{c(){W(t.$$.fragment)},m(e,s){H(t,e,s),o=!0},p(e,s){const r={};s&16&&(r.p=e[13]),t.$set(r)},i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),o=!1},d(e){J(t,e)}}}function En(n){let t,o,e;return{c(){t=A("button"),t.textContent="Pause"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[7]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function On(n){let t,o,e;return{c(){t=A("button"),t.textContent="Start"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[6]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function Sn(n){let t,o,e,s,r,i,c,u,m,a,l=n[1].pendAngle()+"",p,x,w,$,P,b,v,L,M;t=new jt({props:{connector:n[1],editable:!n[3],offset:n[5]}});let C=xt(n[4]),E=[];for(let g=0;g<C.length;g+=1)E[g]=Rt(Tt(n,C,g));const X=g=>q(E[g],1,1,()=>{E[g]=null});function T(g,N){return g[3]?En:On}let G=T(n),R=G(n);return{c(){W(t.$$.fragment),o=z();for(let g=0;g<E.length;g+=1)E[g].c();e=Y(`\r
Top Mass: `),s=A("input"),r=A("br"),i=Y(`\r
Damping: `),c=A("input"),u=z(),m=A("br"),a=z(),p=Y(l),x=z(),w=A("br"),$=z(),R.c(),P=z(),b=A("br"),U(s,"type","number"),U(c,"type","number")},m(g,N){H(t,g,N),d(g,o,N);for(let V=0;V<E.length;V+=1)E[V]&&E[V].m(g,N);d(g,e,N),d(g,s,N),F(s,n[0].mass),d(g,r,N),d(g,i,N),d(g,c,N),F(c,n[2]),d(g,u,N),d(g,m,N),d(g,a,N),d(g,p,N),d(g,x,N),d(g,w,N),d(g,$,N),R.m(g,N),d(g,P,N),d(g,b,N),v=!0,L||(M=[k(s,"input",n[8]),k(c,"input",n[9])],L=!0)},p(g,[N]){const V={};if(N&2&&(V.connector=g[1]),N&8&&(V.editable=!g[3]),t.$set(V),N&16){C=xt(g[4]);let B;for(B=0;B<C.length;B+=1){const _=Tt(g,C,B);E[B]?(E[B].p(_,N),S(E[B],1)):(E[B]=Rt(_),E[B].c(),S(E[B],1),E[B].m(e.parentNode,e))}for(it(),B=C.length;B<E.length;B+=1)X(B);at()}N&1&&K(s.value)!==g[0].mass&&F(s,g[0].mass),N&4&&K(c.value)!==g[2]&&F(c,g[2]),(!v||N&2)&&l!==(l=g[1].pendAngle()+"")&&Nt(p,l),G===(G=T(g))&&R?R.p(g,N):(R.d(1),R=G(g),R&&(R.c(),R.m(P.parentNode,P)))},i(g){if(!v){S(t.$$.fragment,g);for(let N=0;N<C.length;N+=1)S(E[N]);v=!0}},o(g){q(t.$$.fragment,g),E=E.filter(Boolean);for(let N=0;N<E.length;N+=1)q(E[N]);v=!1},d(g){g&&(f(o),f(e),f(s),f(r),f(i),f(c),f(u),f(m),f(a),f(p),f(x),f(w),f($),f(P),f(b)),J(t,g),qt(E,g),R.d(g),L=!1,st(M)}}}let zn=20;function Bn(n,t,o){let e=new Mt(0,100,10,0),s=new Pt(0,0,e);e.updateConnector();let r=0,i=new D(500,200),c=!1,u,m=[],a=0;function l(){o(3,c=!0),u=setInterval(x,zn),o(1,s.constant=s.massMagnitude(),s),o(1,s.theta=s.angle(),s)}function p(){o(3,c=!1),clearInterval(u)}function x(){let P=yt;e.mass;let b=s.pendAngle(),v=s.massMagnitude(),L=Math.sin,M=-P/v*L(b);M-=s.dtheta*r,o(1,s.dtheta+=M*ot.h,s),o(1,s.theta+=s.dtheta,s),s.setAngle(s.theta),o(1,s);let C=e.point.add(i);o(4,m[a++%200]={x:C.x,y:C.y},m)}function w(){e.mass=K(this.value),o(0,e)}function $(){r=K(this.value),o(2,r)}return[e,s,r,c,m,i,l,p,w,$]}class qn extends lt{constructor(t){super(),ut(this,t,Bn,Sn,rt,{})}}function Ut(n,t,o){const e=n.slice();return e[14]=t[o],e[15]=t,e[16]=o,e}function In(n){let t,o,e;return{c(){t=A("button"),t.textContent="Pause"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[5]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function Dn(n){let t,o,e;return{c(){t=A("button"),t.textContent="Start"},m(s,r){d(s,t,r),o||(e=k(t,"click",n[4]),o=!0)},p:Z,d(s){s&&f(t),o=!1,e()}}}function Gt(n){let t,o,e,s,r,i;function c(){n[7].call(o,n[15],n[16])}return{c(){t=Y("Spring constant: "),o=A("input"),e=z(),s=A("br"),U(o,"type","number")},m(u,m){d(u,t,m),d(u,o,m),F(o,n[14].topConnector.constant),d(u,e,m),d(u,s,m),r||(i=k(o,"input",c),r=!0)},p(u,m){n=u,m&2&&K(o.value)!==n[14].topConnector.constant&&F(o,n[14].topConnector.constant)},d(u){u&&(f(t),f(o),f(e),f(s)),r=!1,i()}}}function Vt(n){let t,o,e,s,r,i,c,u,m,a,l,p,x,w,$,P,b=n[14].topConnector&&Gt(n);function v(){n[8].call(c,n[15],n[16])}function L(){n[9].call(l,n[15],n[16])}return{c(){t=Y("Spring #"),o=Y(n[16]),e=Y(": "),s=A("br"),r=z(),b&&b.c(),i=Y(`\r
  Mass: `),c=A("input"),u=z(),m=A("br"),a=Y(`\r
  Damping: `),l=A("input"),p=z(),x=A("br"),w=A("br"),U(c,"type","number"),U(l,"type","number")},m(M,C){d(M,t,C),d(M,o,C),d(M,e,C),d(M,s,C),d(M,r,C),b&&b.m(M,C),d(M,i,C),d(M,c,C),F(c,n[14].mass),d(M,u,C),d(M,m,C),d(M,a,C),d(M,l,C),F(l,n[14].damping),d(M,p,C),d(M,x,C),d(M,w,C),$||(P=[k(c,"input",v),k(l,"input",L)],$=!0)},p(M,C){n=M,n[14].topConnector?b?b.p(n,C):(b=Gt(n),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null),C&2&&K(c.value)!==n[14].mass&&F(c,n[14].mass),C&2&&K(l.value)!==n[14].damping&&F(l,n[14].damping)},d(M){M&&(f(t),f(o),f(e),f(s),f(r),f(i),f(c),f(u),f(m),f(a),f(l),f(p),f(x),f(w)),b&&b.d(M),$=!1,st(P)}}}function jn(n){let t,o,e,s,r,i,c,u,m;t=new _t({props:{connector:n[0],editable:!n[2],offset:n[3]}});function a($,P){return $[2]?In:Dn}let l=a(n),p=l(n),x=xt(n[1]),w=[];for(let $=0;$<x.length;$+=1)w[$]=Vt(Ut(n,x,$));return{c(){W(t.$$.fragment),o=z(),p.c(),e=z(),s=A("br"),r=Y(`\r
From top to bottom `),i=A("br"),c=z();for(let $=0;$<w.length;$+=1)w[$].c();u=pt()},m($,P){H(t,$,P),d($,o,P),p.m($,P),d($,e,P),d($,s,P),d($,r,P),d($,i,P),d($,c,P);for(let b=0;b<w.length;b+=1)w[b]&&w[b].m($,P);d($,u,P),m=!0},p($,[P]){const b={};if(P&1&&(b.connector=$[0]),P&4&&(b.editable=!$[2]),t.$set(b),l===(l=a($))&&p?p.p($,P):(p.d(1),p=l($),p&&(p.c(),p.m(e.parentNode,e))),P&2){x=xt($[1]);let v;for(v=0;v<x.length;v+=1){const L=Ut($,x,v);w[v]?w[v].p(L,P):(w[v]=Vt(L),w[v].c(),w[v].m(u.parentNode,u))}for(;v<w.length;v+=1)w[v].d(1);w.length=x.length}},i($){m||(S(t.$$.fragment,$),m=!0)},o($){q(t.$$.fragment,$),m=!1},d($){$&&(f(o),f(e),f(s),f(r),f(i),f(c),f(u)),J(t,$),p.d($),qt(w,$)}}}let Ln=20;function Yn(n,t,o){let{springs:e}=t,s=new Mt(0,100,10,0),r=new ot(0,0,5,s),i=s,c=[s];for(let b=1;b<e;b++){let v=new Mt(0,100+b*100,10,0),L=new ot(0,0,5,v);i.bottomConnector=L,i=v,c.push(i)}c.forEach(b=>{b.updateConnector()});let u=new D(500,200),m=!1,a;function l(){o(2,m=!0),a=setInterval(x,Ln)}function p(){o(2,m=!1),clearInterval(a)}function x(){r.simulationStep(),o(0,r)}function w(b,v){b[v].topConnector.constant=K(this.value),o(1,c)}function $(b,v){b[v].mass=K(this.value),o(1,c)}function P(b,v){b[v].damping=K(this.value),o(1,c)}return n.$$set=b=>{"springs"in b&&o(6,e=b.springs)},[r,c,m,u,l,p,e,w,$,P]}class kn extends lt{constructor(t){super(),ut(this,t,Yn,jn,rt,{springs:6})}}function Fn(n){let t,o;return t=new qn({}),{c(){W(t.$$.fragment)},m(e,s){H(t,e,s),o=!0},p:Z,i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),o=!1},d(e){J(t,e)}}}function Kn(n){let t,o,e,s;const r=[Tn,Xn],i=[];function c(u,m){return u[1]?0:1}return t=c(n),o=i[t]=r[t](n),{c(){o.c(),e=pt()},m(u,m){i[t].m(u,m),d(u,e,m),s=!0},p(u,m){let a=t;t=c(u),t===a?i[t].p(u,m):(it(),q(i[a],1,1,()=>{i[a]=null}),at(),o=i[t],o?o.p(u,m):(o=i[t]=r[t](u),o.c()),S(o,1),o.m(e.parentNode,e))},i(u){s||(S(o),s=!0)},o(u){q(o),s=!1},d(u){u&&f(e),i[t].d(u)}}}function Xn(n){let t,o;return t=new Pn({}),{c(){W(t.$$.fragment)},m(e,s){H(t,e,s),o=!0},p:Z,i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),o=!1},d(e){J(t,e)}}}function Tn(n){let t=n[2],o,e,s=Ht(n);return{c(){s.c(),o=pt()},m(r,i){s.m(r,i),d(r,o,i),e=!0},p(r,i){i&4&&rt(t,t=r[2])?(it(),q(s,1,1,Z),at(),s=Ht(r),s.c(),S(s,1),s.m(o.parentNode,o)):s.p(r,i)},i(r){e||(S(s),e=!0)},o(r){q(s),e=!1},d(r){r&&f(o),s.d(r)}}}function Ht(n){let t,o;return t=new kn({props:{springs:n[2]}}),{c(){W(t.$$.fragment)},m(e,s){H(t,e,s),o=!0},p(e,s){const r={};s&4&&(r.springs=e[2]),t.$set(r)},i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),o=!1},d(e){J(t,e)}}}function Rn(n){let t,o,e,s,r,i,c,u,m,a,l,p,x,w,$,P;const b=[Kn,Fn],v=[];function L(M,C){return M[0]?0:1}return o=L(n),e=v[o]=b[o](n),{c(){t=A("main"),e.c(),s=Y(`
  Double: `),r=A("input"),i=z(),c=A("br"),u=Y(`
  Spring: `),m=A("input"),a=z(),l=A("br"),p=Y(`
  Spring: `),x=A("input"),U(r,"type","checkbox"),U(m,"type","checkbox"),U(x,"type","number"),U(t,"class","svelte-x1aiyb")},m(M,C){d(M,t,C),v[o].m(t,null),nt(t,s),nt(t,r),r.checked=n[0],nt(t,i),nt(t,c),nt(t,u),nt(t,m),m.checked=n[1],nt(t,a),nt(t,l),nt(t,p),nt(t,x),F(x,n[2]),w=!0,$||(P=[k(r,"change",n[3]),k(m,"change",n[4]),k(x,"input",n[5])],$=!0)},p(M,[C]){let E=o;o=L(M),o===E?v[o].p(M,C):(it(),q(v[E],1,1,()=>{v[E]=null}),at(),e=v[o],e?e.p(M,C):(e=v[o]=b[o](M),e.c()),S(e,1),e.m(t,s)),C&1&&(r.checked=M[0]),C&2&&(m.checked=M[1]),C&4&&K(x.value)!==M[2]&&F(x,M[2])},i(M){w||(S(e),w=!0)},o(M){q(e),w=!1},d(M){M&&f(t),v[o].d(),$=!1,st(P)}}}function Un(n,t,o){let e=!1,s=!1,r=2;function i(){e=this.checked,o(0,e)}function c(){s=this.checked,o(1,s)}function u(){r=K(this.value),o(2,r)}return[e,s,r,i,c,u]}class Gn extends lt{constructor(t){super(),ut(this,t,Un,Rn,rt,{})}}new Gn({target:document.getElementById("app")});
